extends ../layout
block header
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css')
    link(rel='stylesheet', href='../css/requests.css')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js')
    script(src='../js/request.js')

block content
    .container.border#form-container(style='width:50%')
        form.mt-3(method='POST')
            .row.justify-content-center
                h2 Request report
            .form-row
                .form-group.col-md-12
                    label(for='type') Type
                    select#type.form-control(name='type', data-actions-box='true')
                        each report in reports
                            option(value=report.id) #{report.name}
            .form-row
                .form-group.col-md-6
                    label(for='date-input') From
                    input#date-input.form-control(type='date', name='date')
                .form-group.col-md-6
                    label(for='date2-input') To
                    input#date2-input.form-control(type='date', name='date2')
            .form-row
                .form-group.col-md-12
                    label(for='bases') Bases
                    select.selectpicker.form-control(multiple title='All base stations' data-actions-box='true' name='bases')
                        each base in bases
                            option(value=base.bs_id) #{base.bs_id}
            .form-row
                .form-group.col-md-12
                    label(for='bases') Markets
                    select.selectpicker.form-control(multiple title='All markets' data-actions-box='true' name='markets')
                        each market in markets
                            option(value=market) #{market}
            .form-row
                .form-group.col-md-12
                    label(for='reasons') Reasons
                    select.selectpicker.form-control(multiple title='All reason codes' data-actions-box='true' name='reasons')
                        each reason in reasons
                            option(value=reason.disconnect_reason_code data-subtext=reason.disconnect_reason_desc) #{reason.disconnect_reason_code}
            .form-row.mt-3
                .form-group.col-md-12
                    button.btn.btn-info.get-button(type='submit', style='width:100%') Get report